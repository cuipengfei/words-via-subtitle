# 字幕学单词 - UI 设计规范

## 设计理念

"字幕学单词"采用现代化桌面应用设计语言，借鉴 VS Code 等专业开发工具的界面风格，打造专注于内容和学习体验的教育软件界面。设计强调信息层次清晰、交互直观高效、视觉简洁专业。

## 整体布局架构

### 主界面结构

```
┌─────────────────────────────────────────────────────────────┐
│ 顶部工具栏 (高度: 50px)                                        │
├─────────────────────────────────────────────────────────────┤
│ 左面板 (300-400px) │ 分隔条 │ 右面板 (剩余宽度)                 │
│                   │        │                               │
│ [单词列表]          │   ⋮⋮   │ [单词释义]                      │
│ ↕ 独立滚动         │        │ ↕ 独立滚动                     │
│                   │        │                               │
└─────────────────────────────────────────────────────────────┘
```

### 关键设计原则

1. **双栏布局**: 左右分栏设计，信息组织清晰
2. **独立滚动**: 单词列表和释义内容各自独立滚动，互不影响
3. **可调整面板**: 用户可以拖拽调整左右面板比例
4. **响应式设计**: 适配不同屏幕尺寸和分辨率

## 详细组件设计

### 1. 顶部工具栏

**尺寸规格**

- 高度: 50px
- 内边距: 左右 16px，上下 8px
- 背景: 半透明毛玻璃效果

**布局结构**

```
┌─ 应用图标 ─ 应用标题 ────────── 文件指示器 ─ 主操作按钮 ─┐
│  [图标]    字幕学单词    当前文件: example.srt   [打开文件] │
└─────────────────────────────────────────────────────────┘
```

**视觉样式**

- **应用标题**: 18px 字重 600，主文本色
- **文件指示器**: 14px 字重 400，次要文本色
- **主操作按钮**: 圆角 6px，主题色背景，白色文字
- **分隔线**: 底部 1px 实线，边框色

### 2. 左面板 - 单词列表区域

**面板头部**

```
┌─────────────────────────────────┐
│ 📄 单词列表                      │
│ ┌─────────────────────────────┐ │
│ │ 🔍 搜索单词...              │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
```

**列表内容区域**

```
│ ┌─ vocabulary ────────── 12次 ┐ │ ← 可独立滚动
│ │ subtitle              5次  │ │
│ │ learning              8次  │ │
│ │ education             3次  │ │
│ │ ⋮                          │ │
│ └─────────────────────────────┘ │
└─────────────────────────────────┘
```

**设计规格**

**搜索框**

- 高度: 36px
- 圆角: 6px
- 内边距: 8px 12px
- 占位文本: "搜索单词..."
- 左侧搜索图标: 16px，次要文本色

**单词列表项**

- 高度: 48px
- 内边距: 12px 16px
- 悬停状态: 背景色变化 + 轻微阴影
- 选中状态: 左侧 4px 主题色边框 + 背景高亮

**文本样式**

- 单词文本: 16px 字重 600，主文本色
- 频次标记: 12px 字重 500，次要文本色，圆角背景

**滚动设计**

- 滚动条: 8px 宽度，圆角样式
- 滚动行为: 平滑滚动，支持键盘导航
- 虚拟化: 支持大量单词的高性能渲染

### 3. 右面板 - 单词释义区域

**面板头部**

```
┌─────────────────────────────────────────────┐
│ 📖 单词释义                                  │
├─────────────────────────────────────────────┤
```

**释义内容区域**

```
│ ┌─ vocabulary 词汇 ───────────────────────┐ │ ← 可独立滚动
│ │ /vəˈkæbjʊləri/                         │ │
│ │                                        │ │
│ │ ■ noun 名词                             │ │
│ │   1. The words used in a language      │ │
│ │      语言中使用的词汇                    │ │
│ │   2. A list of words with meanings     │ │
│ │      带有含义的词汇表                    │ │
│ │                                        │ │
│ │ 📝 例句                                │ │
│ │   • Building vocabulary takes time.    │ │
│ │     建立词汇量需要时间。                 │ │
│ │   ⋮                                    │ │
│ └─────────────────────────────────────────┘ │
└─────────────────────────────────────────────┘
```

**设计规格**

**单词标题**

- 字体大小: 28px 字重 700
- 颜色: 主文本色
- 中文翻译: 24px 字重 500，主题色

**音标显示**

- 字体: 专用音标字体
- 大小: 16px 字重 400
- 颜色: 次要文本色

**词性定义块**

- 左边框: 4px 宽度，主题色
- 内边距: 16px
- 背景: 轻微背景色
- 圆角: 8px

**定义条目**

- 英文定义: 16px 字重 400，主文本色
- 中文翻译: 14px 字重 400，次要文本色
- 行间距: 1.5 倍

**例句区域**

- 标题: 18px 字重 600，带图标
- 例句: 15px 字重 400
- 翻译: 14px 字重 400，斜体

**滚动设计**

- 独立滚动区域，不受左面板影响
- 平滑滚动动画
- 阅读进度指示器

### 4. 面板分隔条

**视觉设计**

- 宽度: 8px
- 背景: 边框色
- 悬停状态: 主题色浅色变体
- 拖拽状态: 主题色 + 阴影效果

**交互功能**

- 鼠标悬停: 光标变为调整大小图标
- 拖拽调整: 实时调整面板比例
- 最小宽度限制: 左面板最小 280px，右面板最小 400px

## 颜色系统

### 浅色主题

```scss
// 主要颜色
$primary-color: #4f46e5; // 主题蓝色
$primary-hover: #4338ca; // 悬停状态
$primary-light: #eef2ff; // 浅色背景

// 中性色
$text-primary: #111827; // 主文本
$text-secondary: #6b7280; // 次要文本
$text-muted: #9ca3af; // 辅助文本

// 背景色
$bg-primary: #ffffff; // 主背景
$bg-secondary: #f9fafb; // 次要背景
$bg-tertiary: #f3f4f6; // 第三层背景

// 边框色
$border-light: #e5e7eb; // 浅边框
$border-medium: #d1d5db; // 中等边框
```

### 深色主题

```scss
// 主要颜色
$primary-color: #6366f1; // 主题蓝色（深色调整）
$primary-hover: #8b5cf6; // 悬停状态
$primary-light: #1e1b4b; // 深色背景

// 中性色
$text-primary: #f9fafb; // 主文本
$text-secondary: #d1d5db; // 次要文本
$text-muted: #9ca3af; // 辅助文本

// 背景色
$bg-primary: #111827; // 主背景
$bg-secondary: #1f2937; // 次要背景
$bg-tertiary: #374151; // 第三层背景

// 边框色
$border-light: #374151; // 浅边框
$border-medium: #4b5563; // 中等边框
```

## 排版系统

### 字体规格

```scss
// 字体家族
$font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', sans-serif;

// 字体大小
$text-xs: 12px; // 标签文本
$text-sm: 14px; // 次要文本
$text-base: 16px; // 基础文本
$text-lg: 18px; // 大文本
$text-xl: 20px; // 标题
$text-2xl: 24px; // 大标题
$text-3xl: 28px; // 主标题

// 字重
$font-normal: 400;
$font-medium: 500;
$font-semibold: 600;
$font-bold: 700;

// 行高
$leading-tight: 1.25;
$leading-normal: 1.5;
$leading-loose: 1.75;
```

## 交互状态设计

### 1. 加载状态

**单词列表加载**

- 骨架屏动画: 3-5 个占位项
- 渐入动画: 200ms 缓动
- 加载指示器: 顶部进度条

**释义加载**

- 骨架屏: 标题 + 3 个定义块
- 脉冲动画: 1.5s 循环
- 加载文本: "正在查询释义..."

### 2. 空状态

**无文件状态**

```
┌─────────────────────────────┐
│           📁                │
│      选择字幕文件开始学习      │
│                             │
│    [选择SRT/ASS文件]         │
└─────────────────────────────┘
```

**无搜索结果**

```
┌─────────────────────────────┐
│           🔍                │
│      未找到匹配的单词        │
│     尝试调整搜索关键词       │
└─────────────────────────────┘
```

**释义查询失败**

```
┌─────────────────────────────┐
│           ⚠️                │
│      释义查询失败            │
│      请检查网络连接          │
│                             │
│         [重试]              │
└─────────────────────────────┘
```

### 3. 悬停和选中状态

**单词列表项**

- 悬停: 背景色变化 + 2px 圆角
- 选中: 左侧主题色边框 + 背景高亮
- 动画: 150ms 缓动过渡

**按钮状态**

- 悬停: 背景色加深 + 轻微提升阴影
- 按下: 轻微内陷效果
- 禁用: 50% 透明度 + 禁用光标

## 响应式设计

### 断点系统

```scss
$breakpoint-sm: 768px; // 小屏幕
$breakpoint-md: 1024px; // 中等屏幕
$breakpoint-lg: 1280px; // 大屏幕
$breakpoint-xl: 1536px; // 超大屏幕
```

### 适配策略

**小屏幕 (< 768px)**

- 切换为单栏布局
- 使用标签页切换单词列表和释义
- 减少内边距和间距

**中等屏幕 (768px - 1024px)**

- 保持双栏布局
- 调整默认面板比例 (40:60)
- 适当缩减字体大小

**大屏幕 (> 1024px)**

- 标准双栏布局
- 默认面板比例 (30:70)
- 标准字体大小和间距

## 动画与过渡

### 基础动画时长

```scss
$duration-fast: 150ms; // 快速交互
$duration-base: 200ms; // 基础过渡
$duration-slow: 300ms; // 慢速动画

$easing-ease: ease;
$easing-ease-in-out: ease-in-out;
$easing-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
```

### 关键动画

**面板调整**

- 实时跟随鼠标拖拽
- 释放后平滑过渡到最终位置
- 300ms 缓动动画

**内容切换**

- 淡入淡出: 200ms
- 垂直滑动: 250ms
- 弹性缓动效果

**滚动动画**

- 平滑滚动: scroll-behavior: smooth
- 滚动指示器更新
- 回到顶部按钮渐现

## 可访问性要求

### 键盘导航

- Tab 键在可交互元素间切换
- 方向键在列表中导航
- Enter 键选择/激活
- Escape 键取消/返回

### 屏幕阅读器

- 语义化 HTML 结构
- 适当的 ARIA 标签
- 状态变化播报
- 内容更新提示

### 视觉可访问性

- 对比度比例 ≥ 4.5:1
- 聚焦指示器清晰可见
- 颜色不作为唯一信息载体
- 文字大小支持缩放

## 实现注意事项

### 技术要求

1. **独立滚动实现**

   - 使用 `overflow-y: auto` 为每个面板设置独立滚动
   - 确保滚动条样式在不同操作系统下的一致性
   - 实现虚拟化以支持大量单词列表

2. **面板调整功能**

   - 使用 `react-resizable-panels` 或类似库
   - 保存用户调整的面板比例
   - 设置合理的最小/最大宽度限制

3. **主题切换**
   - CSS 自定义属性实现主题切换
   - 用户偏好设置持久化存储
   - 支持系统主题自动切换

### 性能优化

1. **列表渲染优化**

   - 使用虚拟滚动处理大量单词
   - 防抖搜索输入
   - 延迟加载释义内容

2. **动画性能**

   - 使用 `transform` 和 `opacity` 进行动画
   - 启用硬件加速
   - 避免引起重排的属性变化

3. **内存管理**
   - 及时清理未使用的组件
   - 合理设置缓存策略
   - 控制图片和媒体资源大小

## 设计交付物

### 组件库

- 按钮组件 (主要、次要、危险、文本)
- 输入框组件 (搜索、文本)
- 列表组件 (单词列表项)
- 面板组件 (可调整面板)
- 状态组件 (加载、空状态、错误)

### 图标集

- 搜索图标 (magnifying-glass)
- 书本图标 (book)
- 文件图标 (folder-open)
- 设置图标 (cog)
- 主题切换图标 (sun/moon)

### 样式指南

- 颜色色板文件
- 字体规范文件
- 间距规范文件
- 组件状态样式库
- 动画效果库

本设计规范旨在为开发团队提供清晰、一致的界面实现指导，确保最终产品达到现代化桌面应用的专业水准，同时提供优秀的用户学习体验。
